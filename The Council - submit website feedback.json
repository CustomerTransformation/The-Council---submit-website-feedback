{
  "processName": "The Council - submit website feedback",
  "processDescription": "",
  "props": {
    "id": "AF-Process-5863cfac-bc98-4291-9932-3dc9fd434b69",
    "category": "AF-Category-d449c859-409e-4028-b9e7-ab56377ec668",
    "tags": "",
    "viewGroup": null,
    "viewGroupToken": null,
    "date_due": "",
    "date_due_warn": "",
    "showCaseReference": false,
    "isSubform": false,
    "notes": false,
    "initial_stage": "Stage 1",
    "initial_stage_id": "AF-Stage-aec593c0-8057-464e-a986-726bed56393f",
    "serverSubmit": true,
    "prefix": "WB",
    "isPublished": true
  },
  "stages": {
    "Stage 1": {
      "url": "Stage-1.html",
      "id": "AF-Stage-aec593c0-8057-464e-a986-726bed56393f",
      "name": "Stage 1",
      "props": {
        "form": "AF-Form-4696b580-e28c-4b3a-9881-6d3820328c2e",
        "xpos": 20,
        "ypos": 20,
        "group": null,
        "integrations": [
          {
            "id": "5ce7a7e162a8d",
            "condition": "",
            "repeat_against": "",
            "type_condition": "submission",
            "timed_condition": "",
            "repeat_interval": ""
          },
          {
            "id": "5ce7a861bbdb6",
            "condition": "",
            "repeat_against": "",
            "type_condition": "submission",
            "timed_condition": "",
            "repeat_interval": ""
          }
        ],
        "user_token": null,
        "group_token": null,
        "stopOnFailure": false,
        "useNewPaymentMethod": false,
        "textColor": "#ffffff",
        "user": "__originator__",
        "backgroundColor": "#0033cc",
        "date_due": "",
        "date_due_warn": "",
        "notification": {
          "notify_assigned_users": false,
          "recipients_to": null,
          "subject": null,
          "body": null
        },
        "escalation": {
          "notify_assigned_users": true,
          "recipients_to": null,
          "subject": null,
          "body": null,
          "date": null,
          "date_type": null,
          "user_token": null,
          "group_token": null,
          "user": null,
          "group": null,
          "condition": null,
          "conditionInputs": {}
        },
        "caseViewOption": false,
        "startSection": "",
        "usenewPaymentMethod": false,
        "formDefinition": {
          "formName": "Submit website feedback",
          "formDescription": "",
          "props": {
            "id": "AF-Form-4696b580-e28c-4b3a-9881-6d3820328c2e",
            "category": "",
            "saveSubmissionData": true,
            "usePHPIntegrations": true,
            "serverSideLookupValidation": false,
            "tags": "",
            "navigateAwayWarning": "Are you sure you want to navigate away? All progress in this form will be lost.",
            "navigateAwayWarn": true,
            "validateOnInit": true,
            "stopOnFailure": false,
            "stickyError": false,
            "showFormReference": false,
            "mustBeValid": true,
            "hideHeader": false,
            "isPublished": false,
            "isSubform": false,
            "integrations": [],
            "notes": false,
            "submission": {
              "message": "<p>Thank you for submitting this form.</p>\n<p>Your reference number is {summary_ref}.</p>",
              "api": "/form/submit/",
              "download": "Download PDF",
              "cancel_redirect": null,
              "continue": "Continue",
              "conditionInputs": [
                {
                  "element": "select",
                  "value": "feedbackType",
                  "type": [
                    "fields"
                  ]
                },
                {
                  "element": "select",
                  "value": "icontains",
                  "type": [
                    "_select"
                  ]
                },
                {
                  "element": "select",
                  "value": "A council service",
                  "type": [
                    "list"
                  ]
                }
              ],
              "showDownload": false,
              "showMessage": true,
              "serverSubmit": true,
              "redirect": null,
              "condition": "{feedbackType} icontains 'A council service'",
              "printableIntegrationId": "",
              "newPaymentMethod": false
            },
            "save": {
              "lim": "3f07ecf4-0dfa-11e2-b0b9-12313b03ed59",
              "displayCondition": "",
              "conditionInputs": "",
              "redirect": null,
              "allow": false,
              "fromName": "",
              "message": "",
              "subject": "",
              "mail": false,
              "from": "",
              "disableSaveNotify": false
            },
            "hideSaveUrl": false,
            "usePHPIntregration": false,
            "integrationDefinition": []
          },
          "sections": [
            {
              "url": "Introduction.html",
              "id": "AF-Section-0c3520ce-99f5-4198-9663-6d477a8c1d74",
              "props": {
                "hideCancel": false,
                "conditionInputs": "",
                "displayCondition": "",
                "validationInputs": "",
                "validation": "",
                "validationMessage": "This Section is Invalid",
                "validationLookup": {
                  "enableLookup": false,
                  "lookupID": "",
                  "lookupName": "",
                  "lookupValidation": "",
                  "lookupOperator": ""
                }
              },
              "name": "Introduction",
              "fields": [
                {
                  "type": "html",
                  "props": {
                    "label": "html 1",
                    "dataName": "html1",
                    "displayName": "",
                    "outerClass": "",
                    "width": "",
                    "showInSummary": false,
                    "content": "<p>Portsmouth City Council's Digital Team will process your personal information appropriately and legally in accordance with the relevant national legislation. The details you provide will be held in a secure system or database and will only be shared with other teams or organisations where the law allows. Follow the <a href=\"https://www.portsmouth.gov.uk/ext/your-council/transparency/data-protection-privacy-notice\" target=\"_blank\">link</a> for details of our data protection policy</p>\n<p>Use this form to provide website feedback or report any problems with the website. This can include broken links, incorrect information, or anything else you think should be improved. You will have the option to request a response to your feedback.</p>",
                    "displayCondition": null
                  },
                  "conditionInputs": [],
                  "id": "AF-Field-6a891270-6426-42b6-9eea-3309089687c9"
                }
              ]
            },
            {
              "url": "Feedback.html",
              "id": "AF-Section-5b0c077a-84a0-4dfb-9857-d2123aa2f48d",
              "props": {
                "hideCancel": false,
                "conditionInputs": "",
                "displayCondition": "",
                "validationInputs": "",
                "validation": "",
                "validationMessage": "This Section is Invalid",
                "validationLookup": {
                  "enableLookup": false,
                  "lookupID": "",
                  "lookupName": "",
                  "lookupValidation": "",
                  "lookupOperator": ""
                }
              },
              "name": "Feedback",
              "fields": [
                {
                  "type": "select",
                  "props": {
                    "minimumChoices": null,
                    "maximumChoices": null,
                    "minimumChoicesMessage": "Please select at least _min_value_ choices",
                    "maximumChoicesMessage": "Please select no more than _max_value_ choices",
                    "label": "What would you like to feedback on?",
                    "dataName": "feedbackType",
                    "labelPosition": "alignLeft",
                    "defaultType": "specific",
                    "defaultValue": null,
                    "defaultValueText": null,
                    "listSource": "one-time-list",
                    "helpText": "",
                    "readOnly": false,
                    "allowOther": false,
                    "summaryField": false,
                    "lookup": null,
                    "lookupCondition": null,
                    "lookupButton": null,
                    "preventRunningOnInitialisation": null,
                    "noResultsMessage": null,
                    "tokenName": null,
                    "listOfValues": [
                      {
                        "label": "A webpage",
                        "value": "A webpage"
                      },
                      {
                        "label": "The website in general",
                        "value": "The website in general"
                      },
                      {
                        "label": "A council service",
                        "value": "A council service"
                      }
                    ],
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "width": null,
                    "selectLabel": "Select...",
                    "allowMultiple": false,
                    "enableFilter": false,
                    "hideWhenBlank": null,
                    "hidden": null,
                    "disableEmptyValue": null,
                    "displayCondition": null,
                    "selectCondition": null,
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "mandatoryMessage": "This field is required"
                  },
                  "conditionInputs": [],
                  "id": "AF-Field-7165cf1d-bf8d-448c-a37d-a0669f2c6e8f"
                },
                {
                  "type": "textarea",
                  "props": {
                    "label": "Page title or address",
                    "dataName": "pageTitle",
                    "labelPosition": "alignLeft",
                    "defaultValue": "",
                    "helpText": "",
                    "hidden": false,
                    "readOnly": false,
                    "summaryField": false,
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "width": null,
                    "lengthCount": null,
                    "hideWhenBlank": null,
                    "displayCondition": null,
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "minimumLength": "",
                    "maximumLength": "",
                    "validationMask": "",
                    "mandatoryMessage": "This information is required",
                    "minimumLengthMessage": "Please input at least _min_value_ characters",
                    "maximumLengthMessage": "Please input no more than _max_value_ characters",
                    "validationMaskMessage": "Please input text of the format: _validation_mask_",
                    "validationMaskMessageValue": "Select..."
                  },
                  "conditionInputs": [],
                  "id": "AF-Field-88ffa9f0-42bc-4f6f-9360-64738aa7a4ec"
                },
                {
                  "type": "text",
                  "props": {
                    "label": "tokenName",
                    "dataName": "tokenName",
                    "labelPosition": "alignLeft",
                    "defaultValue": "concat(if({feedbackType} = 'A webpage', 'page'),\nif({feedbackType} = 'The website in general', 'website'))",
                    "helpText": "",
                    "hidden": true,
                    "readOnly": true,
                    "summaryField": false,
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "outputFormat": "normal",
                    "currencyPrefix": null,
                    "width": null,
                    "inputMask": null,
                    "inputMaskPlaceholder": null,
                    "lengthCount": null,
                    "hideWhenBlank": null,
                    "displayCondition": null,
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": false,
                    "minimumLength": "",
                    "maximumLength": "",
                    "validationCondition": "",
                    "validationMask": "",
                    "mandatoryMessage": "This field is required",
                    "minimumLengthMessage": "Please input at least _min_value_ characters",
                    "maximumLengthMessage": "Please input no more than _max_value_ characters",
                    "validationMaskMessage": "Please input text of the format: _validation_mask_",
                    "validationConditionMessage": "This field is invalid",
                    "validationMaskMessageValue": "Select..."
                  },
                  "conditionInputs": [],
                  "id": "AF-Field-b8bb7546-0573-4188-a5c3-e6d33e1565fb"
                },
                {
                  "type": "select",
                  "props": {
                    "minimumChoices": null,
                    "maximumChoices": null,
                    "minimumChoicesMessage": "Please select at least _min_value_ choices",
                    "maximumChoicesMessage": "Please select no more than _max_value_ choices",
                    "label": "How would you rate this {tokenName}",
                    "dataName": "rate",
                    "labelPosition": "alignLeft",
                    "defaultType": "specific",
                    "defaultValue": null,
                    "defaultValueText": null,
                    "listSource": "one-time-list",
                    "helpText": "",
                    "readOnly": false,
                    "allowOther": false,
                    "summaryField": false,
                    "lookup": null,
                    "lookupCondition": null,
                    "lookupButton": null,
                    "preventRunningOnInitialisation": null,
                    "noResultsMessage": null,
                    "tokenName": null,
                    "listOfValues": [
                      {
                        "label": "Excellent",
                        "value": "Excellent"
                      },
                      {
                        "label": "Good",
                        "value": "Good"
                      },
                      {
                        "label": "OK",
                        "value": "OK"
                      },
                      {
                        "label": "Poor",
                        "value": "Poor"
                      },
                      {
                        "label": "Very poor",
                        "value": "Very poor"
                      }
                    ],
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "width": null,
                    "selectLabel": "Select...",
                    "allowMultiple": false,
                    "enableFilter": false,
                    "hideWhenBlank": null,
                    "hidden": null,
                    "disableEmptyValue": null,
                    "displayCondition": "{feedbackType} icontains 'A webpage' or {feedbackType} icontains 'The website in general'",
                    "selectCondition": null,
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "mandatoryMessage": "This field is required"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "A webpage",
                      "type": [
                        "list"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "or",
                      "type": [
                        "logicalOperators"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "The website in general",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-0bcd110a-66ac-49a3-8d9e-9677500d02d3"
                },
                {
                  "type": "textarea",
                  "props": {
                    "label": "What feedback do you want to provide?",
                    "dataName": "whatFeedback",
                    "labelPosition": "alignLeft",
                    "defaultValue": "",
                    "helpText": "",
                    "hidden": false,
                    "readOnly": false,
                    "summaryField": false,
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "width": null,
                    "lengthCount": null,
                    "hideWhenBlank": null,
                    "displayCondition": "{feedbackType} icontains 'A webpage' or {feedbackType} icontains 'The website in general'",
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "minimumLength": null,
                    "maximumLength": null,
                    "validationMask": null,
                    "mandatoryMessage": "This field is required",
                    "minimumLengthMessage": "Please input at least _min_value_ characters",
                    "maximumLengthMessage": "Please input no more than _max_value_ characters",
                    "validationMaskMessage": "Please input text of the format: _validation_mask_"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "A webpage",
                      "type": [
                        "list"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "or",
                      "type": [
                        "logicalOperators"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "The website in general",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-aee63c03-efa4-4744-b547-389c81a52280"
                },
                {
                  "type": "radio",
                  "props": {
                    "label": "Would you like to be contacted regarding your comments? ",
                    "dataName": "contacted",
                    "labelPosition": "alignLeft",
                    "defaultType": "specific",
                    "defaultValue": "",
                    "defaultValueText": null,
                    "listSource": "one-time-list",
                    "helpText": "",
                    "readOnly": false,
                    "allowOther": false,
                    "summaryField": false,
                    "lookup": null,
                    "lookupCondition": null,
                    "lookupButton": null,
                    "preventRunningOnInitialisation": null,
                    "noResultsMessage": null,
                    "tokenName": null,
                    "listOfValues": [
                      {
                        "label": "Yes",
                        "value": "yes"
                      },
                      {
                        "label": "No",
                        "value": "no"
                      }
                    ],
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "width": null,
                    "displayStyle": "horizontal",
                    "styleAsButton": null,
                    "hideWhenBlank": null,
                    "hidden": null,
                    "displayCondition": "{feedbackType} icontains 'A webpage' or {feedbackType} icontains 'The website in general'",
                    "selectCondition": null,
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "mandatoryMessage": "This field is required"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "A webpage",
                      "type": [
                        "list"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "or",
                      "type": [
                        "logicalOperators"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "The website in general",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-5d2d1c75-b72e-49c7-9aeb-3d720d977e0b"
                },
                {
                  "type": "text",
                  "props": {
                    "label": "Your name",
                    "dataName": "yourName",
                    "labelPosition": "alignLeft",
                    "defaultValue": "",
                    "helpText": "",
                    "hidden": false,
                    "readOnly": false,
                    "summaryField": false,
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "outputFormat": "normal",
                    "currencyPrefix": null,
                    "width": null,
                    "inputMask": null,
                    "inputMaskPlaceholder": null,
                    "lengthCount": null,
                    "hideWhenBlank": null,
                    "displayCondition": "{contacted} icontains 'yes'",
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "minimumLength": null,
                    "maximumLength": null,
                    "validationCondition": null,
                    "validationMask": null,
                    "mandatoryMessage": "This field is required",
                    "minimumLengthMessage": "Please input at least _min_value_ characters",
                    "maximumLengthMessage": "Please input no more than _max_value_ characters",
                    "validationMaskMessage": "Please input text of the format: _validation_mask_",
                    "validationConditionMessage": "This field is invalid"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "contacted",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "yes",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-971911cf-63ac-4be2-995b-7af345b45847"
                },
                {
                  "type": "text",
                  "props": {
                    "label": "Your email address",
                    "dataName": "yourEmai",
                    "labelPosition": "alignLeft",
                    "defaultValue": "",
                    "helpText": "",
                    "hidden": false,
                    "readOnly": false,
                    "summaryField": false,
                    "displayName": true,
                    "outerClass": null,
                    "labelClass": null,
                    "inputClass": null,
                    "outputFormat": "normal",
                    "currencyPrefix": null,
                    "width": null,
                    "inputMask": null,
                    "inputMaskPlaceholder": null,
                    "lengthCount": null,
                    "hideWhenBlank": null,
                    "displayCondition": "{contacted} icontains 'yes'",
                    "mandatoryCondition": null,
                    "readonlyCondition": null,
                    "mandatory": true,
                    "minimumLength": "",
                    "maximumLength": "",
                    "validationCondition": "",
                    "validationMask": "/^[-a-z0-9~!$%^&*#_=+}{\\'?]+(\\.[-a-z0-9~!$%^&*#_=+}{\\'?]+)*@[a-z0-9][-a-z0-9_]*(\\.[-a-z0-9_]+)(\\.[a-z0-9]+)*$/gim",
                    "mandatoryMessage": "This field is required",
                    "minimumLengthMessage": "Please input at least _min_value_ characters",
                    "maximumLengthMessage": "Please input no more than _max_value_ characters",
                    "validationMaskMessage": "Please input text of the format: _validation_mask_",
                    "validationConditionMessage": "This field is invalid",
                    "validationMaskMessageValue": "Email Address"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "contacted",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "yes",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-7a6e1af4-d73c-4e03-b3f4-475fdcde7bef"
                },
                {
                  "type": "html",
                  "props": {
                    "label": "html 2",
                    "dataName": "html2",
                    "displayName": "",
                    "outerClass": "",
                    "width": "",
                    "showInSummary": false,
                    "content": "<p>Please complete the form <a href=\"https://my.portsmouth.gov.uk/en/AchieveForms/?form_uri=sandbox-publish://AF-Process-6e0d4ef1-443f-4e10-82b9-536942e53535/AF-Stage-8785b932-29d1-48ab-8a10-395f17266fa9/definition.json&redirectlink=%2Fen&cancelRedirectLink=%2Fen&consentMessage=yes\" target=\"_top\">The council - submit a suggestion, compliment or complaint.</a></p>",
                    "displayCondition": "{feedbackType} icontains 'A council service'"
                  },
                  "conditionInputs": [
                    {
                      "element": "select",
                      "value": "feedbackType",
                      "type": [
                        "fields"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "icontains",
                      "type": [
                        "_select"
                      ]
                    },
                    {
                      "element": "select",
                      "value": "A council service",
                      "type": [
                        "list"
                      ]
                    }
                  ],
                  "id": "AF-Field-bd8cb9dd-d30b-4fa3-9865-67b5265bbe31"
                }
              ]
            }
          ]
        }
      },
      "routes": {},
      "populateFields": [
        {
          "label": "What would you like to feedback on?",
          "dataName": "feedbackType",
          "populated": true
        },
        {
          "label": "tokenName",
          "dataName": "tokenName",
          "populated": true
        },
        {
          "label": "How would you rate this {tokenName}",
          "dataName": "rate",
          "populated": true
        },
        {
          "label": "What feedback do you want to provide?",
          "dataName": "whatFeedback",
          "populated": true
        },
        {
          "label": "Would you like to be contacted regarding your comments? ",
          "dataName": "contacted",
          "populated": true
        },
        {
          "label": "Your name",
          "dataName": "yourName",
          "populated": true
        },
        {
          "label": "Your email address",
          "dataName": "yourEmai",
          "populated": true
        }
      ]
    }
  }
}